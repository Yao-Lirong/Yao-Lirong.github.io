<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <p>I’ve created a bot to send warm welcomes to newly admitted Cornell prefrosh. </p> <p><span id="more"></span>&lt;h2 id="Simple-Auto-Reply-Bot"&gt;<a href="#Simple-Auto-Reply-Bot" class="headerlink" title="Simple Auto-Reply Bot"></a>Simple Auto-Reply Bot&lt;/h2&gt;&lt;p&gt;This <a href="https://praw.readthedocs.io/en/latest/tutorials/reply_bot.html" rel="external nofollow noopener" target="_blank">Let Me Google It For You Bot</a> tutorial perfectly explains how to listen to reddit post stream and reply to a post. &lt;/p&gt;&lt;p&gt;We use the following code to declare a reddit bot:&lt;/p&gt;<figure class="highlight python">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line">reddit = praw.Reddit(</span><br><span class="line"> client_id=<span class="string">"CLIENT_ID"</span>,</span><br><span class="line"> client_secret=<span class="string">"CLIENT_SECRET"</span>,</span><br><span class="line"> username=<span class="string">"USERNAME"</span>,</span><br><span class="line"> password=<span class="string">"PASSWORD"</span>,</span><br><span class="line"> user_agent=<span class="string">"LMGTFY (by u/USERNAME)"</span>,</span><br><span class="line">)</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;p&gt;If we want to put our code onto GitHub, this will expose our client secret and account password. Therefore, we can make a separate file called <a href="https://praw.readthedocs.io/en/latest/getting_started/configuration/prawini.html" rel="external nofollow noopener" target="_blank"><code>praw.ini</code></a>, where we specify these private information. Note an <code>ini</code> file cannot contain most special characters, so you need to change your password to only words and digits. &lt;/p&gt;<figure class="highlight ini">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line"><span class="section">[bot527]</span></span><br><span class="line"><span class="attr">client_id</span>=d123071240924w</span><br><span class="line"><span class="attr">client_secret</span>=D123412541254</span><br><span class="line"><span class="attr">username</span>=Harmonya<span class="literal">no</span></span><br><span class="line"><span class="attr">password</span>=YouthinkIwillTellYouThisHuh</span><br><span class="line"><span class="attr">user_agent</span>=bot</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;p&gt;With this, we can declare our bot with the following command. Note the customize name “bot527” need to match in both the <code>ini</code> file and the declaration . &lt;/p&gt;<figure class="highlight python">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line">reddit = praw.Reddit(<span class="string">"bot527"</span>)</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;h2 id="Deploy-on-Heroku"&gt;<a href="#Deploy-on-Heroku" class="headerlink" title="Deploy on Heroku"></a>Deploy on Heroku&lt;/h2&gt;&lt;p&gt;Create a Heroku app, follow the instructions in Deploy/Heroku Git tab. &lt;/p&gt;&lt;p&gt;For a Heroku app to run, it needs several additional files:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;p&gt;<code>Runtime.txt</code>: Though it’s in question whether this is really needed or not (the app runs normally too without it?)&lt;/p&gt;<figure class="highlight plaintext">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line">python-3.7.9</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;/li&gt;&lt;li&gt;&lt;p&gt;<code>Procfile</code>: This is a Heroku specific file that declares what command Heroku should execute to start your app. A detailed explanation in <a href="https://www.reddit.com/r/redditdev/comments/kyrn1u/i_want_to_run_my_reddit_bot_on_heroku_what_do_i/gjid6jt/" rel="external nofollow noopener" target="_blank">here</a> &lt;/p&gt;<figure class="highlight plaintext">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line">worker: python bot.py</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;/li&gt;&lt;li&gt;&lt;p&gt;<code>requirements.txt</code>: python package requirements, obtained by <code>pip freeze &gt; requirements.txt</code>&lt;/p&gt;<figure class="highlight plaintext">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line">praw==7.6.0</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Finally, after you deploying all the codes to Heroku, DON”T FORGET THE MOST IMPORTNAT PART: you need to turn on the resources tab on Heroku for your worker (spent 1h figuring this out). For where to find it, watch <a href="https://youtu.be/BPvg9bndP1U?t=747" rel="external nofollow noopener" target="_blank">this video</a> &lt;/p&gt;&lt;h2 id="Submit-amp-Edit-a-Post"&gt;<a href="#Submit-amp-Edit-a-Post" class="headerlink" title="Submit &amp; Edit a Post"></a>Submit &amp; Edit a Post&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;<a href="https://praw.readthedocs.io/en/latest/code_overview/models/subreddit.html#praw.models.Subreddit.submit" rel="external nofollow noopener" target="_blank">Submit a Post onto a Subreddit</a>: <code>submission = reddit.subreddit("test").submit("title", selftext=text)</code>&lt;/li&gt;&lt;li&gt;<a href="https://praw.readthedocs.io/en/latest/code_overview/models/submission.html#praw.models.Submission.edit" rel="external nofollow noopener" target="_blank">Edit an Existed Post</a>: <code>submission.edit(body=submission.body + "edited")</code>&lt;/li&gt;&lt;/ul&gt;</p> </body></html>