<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <p>Since long before have I realized I do need a more official and moreacademic homepage in addition to a personal blog site, but I didn’t findtime to do it until I started working. Now after this switch, I have mypersonal homepage of &lt;ahref="https://github.com/alshedivat/al-folio/"&gt;al-folio&lt;/a&gt; in &lt;ahref="https://jekyllrb.com/"&gt;Jekyll&lt;/a&gt; and at the same time my blog of<a href="https://github.com/fi3ework/hexo-theme-archer/" rel="external nofollow noopener" target="_blank">archer</a> in<a href="https://hexo.io/" rel="external nofollow noopener" target="_blank">Hexo</a>.</p> <p><span id="more"></span>&lt;h2 id="migrating-hexo-blog-to-sub-directory"&gt;Migrating Hexo Blog toSub-Directory&lt;/h2&gt;&lt;p&gt;I want to keep this &lt;ahref=”https://github.com/fi3ework/hexo-theme-archer/”&gt;archer theme&lt;/a&gt;for my blog while creating a new personal homepage. Therefore, I have tomove this repo out of the GitHub page repo and into some other blogrepo. That is, this blog will now be served as a GitHub project page,like my <a href="https://yao-lirong.github.io/ARC-Visualization-40/" rel="external nofollow noopener" target="_blank">ARC40</a>. What needs to be done was surprisingly simple:&lt;/p&gt;&lt;ol type="1"&gt;&lt;li&gt;&lt;p&gt;Create a GitHub repo to store your webpages: This repo willcontain the exact same information as my previous &lt;ahref=”https://github.com/Yao-Lirong/Yao-Lirong.github.io”&gt;Yao-Lirong/Yao-Lirong.github.io&lt;/a&gt;.I created &lt;ahref=”https://github.com/Yao-Lirong/blog”&gt;Yao-Lirong/blog&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Change your Hexo <code>_config.yml</code>. You can reference the<a href="https://hexo.io/docs/github-pages.html" rel="external nofollow noopener" target="_blank">official guide ondeploying</a>, but they didn’t mention how to one-command deploy aproject page.&lt;/p&gt;<figure class="highlight yaml">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://yao-lirong.github.io/blog</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/blog/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line"> <span class="attr">repo:</span> <span class="string">https://github.com/Yao-Lirong/blog</span></span><br><span class="line"> <span class="attr">branch:</span> <span class="string">master</span></span><br><span class="line"> <span class="attr">message:</span> <span class="string">Updated</span> <span class="string">at</span> {{ <span class="string">now('YYYY-MM-DD</span> <span class="string">HH:mm')</span> }}</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;/li&gt;&lt;li&gt;&lt;p&gt;<code>hexo clean &amp;&amp; hexo deploy</code>&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 id="configuring-al-folio"&gt;Configuring al-folio&lt;/h2&gt;&lt;h3 id="local-install"&gt;Local Install&lt;/h3&gt;&lt;p&gt;Since this migration was a long process, when I was working onal-folio, my archer page was still up and I have to first try outal-folio locally to not break my current GitHub page. To do this, theonly feasible way is to use docker as suggested in their &lt;ahref=”https://github.com/alshedivat/al-folio/blob/master/INSTALL.md#local-setup-using-docker-recommended”&gt;installinstruction&lt;/a&gt;. Don’t bother to try other ways. You won’t have any luckrunning them.&lt;/p&gt;<figure class="highlight bash">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line">git <span class="built_in">clone</span> –depth 1 https://github.com/alshedivat/al-folio.git</span><br><span class="line"><span class="built_in">cd</span> al-folio/</span><br><span class="line">docker compose pull</span><br><span class="line">docker compose up</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;h3 id="personalization"&gt;Personalization&lt;/h3&gt;&lt;ol type="1"&gt;&lt;li&gt;&lt;p&gt;<code>_pages/*.md</code> will be shown on the navigation bar. Ideleted most of them and only kept<code>_pages/about.md, cv.md, projects.md</code>&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;<code>_news/</code> directory contains what will be shown on thehomepage “news” section. Do change those&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;<code>_sass/_themes.scss</code> has a variable<code>--global-theme-color</code> controlling the theme of this site. Ihad&lt;/p&gt;<figure class="highlight scss">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br><span class="line">2</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line"><span class="attr">–global-theme-color</span>: #{<span class="variable">$cyan-color</span>};</span><br><span class="line"><span class="attr">–global-hover-color</span>: #{<span class="variable">$light-cyan-color</span>};</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;/li&gt;&lt;li&gt;&lt;p&gt;In <code>_config.yaml</code>, we see that <code>projects</code>is listed under <code>collections</code>. This means we can build thefollowing file structure, where we have <code>_pages/projects.md</code>to be displayed on the navigation bar as an entry point and<code>projects/p1.md</code> for a specific project. Find more about<code>collections</code> in &lt;ahref=”https://github.com/alshedivat/al-folio#collections”&gt;README&lt;/a&gt;&lt;/p&gt;<figure class="highlight plaintext">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line">_pages/</span><br><span class="line">├─ projects.md - mywebsite.com/projects/</span><br><span class="line">projects/</span><br><span class="line">├─ p1.md - mywebsite.com/projects/p1</span><br><span class="line">├─ p2.md - mywebsite.com/projects/p2</span><br><span class="line">├─ ….</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;/li&gt;&lt;/ol&gt;&lt;h2 id="integrating-hexo-blog-into-new-homepage"&gt;Integrating Hexo Bloginto New Homepage&lt;/h2&gt;&lt;ol type="1"&gt;&lt;li&gt;&lt;p&gt;Delete any blog-related feature that came along with al-folio: &lt;ahref=”https://github.com/alshedivat/al-folio/discussions/627”&gt;<em>reference</em>&lt;/a&gt;&lt;/p&gt;&lt;ol type="1"&gt;&lt;li&gt;&lt;p&gt;Delete all the example posts:<code>rm -rf ./_posts/</code>&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Delete the template generating <code>mywebsite.com/blog</code>page: <code>rm -rf ./blog/</code>&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Comment out the following entries under<code>Jekyll Archives</code> section and <code>Blog</code> section in<code>_config.yml</code> to make sure absolutely nothing is generatedunder <code>mywebsite.com/blog</code> address: (I was about to commentout everything, but it turns out this would break some contentgeneration features, so after some experiments I found you only need tocomment out the followings:)&lt;/p&gt;<figure class="highlight yaml">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line"><span class="comment"># ———————————————–</span></span><br><span class="line"><span class="comment"># Blog</span></span><br><span class="line"><span class="comment"># ———————————————–</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">/blog/:year/:title/</span></span><br><span class="line"></span><br><span class="line"><span class="attr">related_blog_posts:</span></span><br><span class="line"> <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line"> <span class="attr">max_related:</span> <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ———————————————–</span></span><br><span class="line"><span class="comment"># Jekyll Archives</span></span><br><span class="line"><span class="comment"># ———————————————–</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jekyll-archives:</span></span><br><span class="line"> <span class="attr">enabled:</span> [<span class="string">year</span>, <span class="string">tags</span>, <span class="string">categories</span>] <span class="comment"># enables year, tag and category archives (remove if you need to disable one of them).</span></span><br><span class="line"> <span class="attr">layouts:</span></span><br><span class="line"> <span class="attr">year:</span> <span class="string">archive-year</span></span><br><span class="line"> <span class="attr">tag:</span> <span class="string">archive-tag</span></span><br><span class="line"> <span class="attr">category:</span> <span class="string">archive-category</span></span><br><span class="line"> <span class="attr">permalinks:</span></span><br><span class="line"> <span class="attr">year:</span> <span class="string">"/blog/:year/"</span></span><br><span class="line"> <span class="attr">tag:</span> <span class="string">"/blog/tag/:name/"</span></span><br><span class="line"> <span class="attr">category:</span> <span class="string">"/blog/category/:name/"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">display_tags:</span> [<span class="string">"formatting"</span>, <span class="string">"images"</span>, <span class="string">"links"</span>, <span class="string">"math"</span>, <span class="string">"code"</span>] <span class="comment"># these tags will be displayed on the front page of your blog</span></span><br><span class="line"><span class="attr">display_categories:</span> [<span class="string">"blockquotes"</span>] <span class="comment"># these categories will be displayed on the front page of your blog</span></span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Set the <code>blog</code> entry on the navigation bar link to myactual blog address:&lt;/p&gt;&lt;ol type="1"&gt;&lt;li&gt;&lt;p&gt;set <code>_config.yml blog_nav_title:</code> to empty, so theal-folio’s <code>blog</code> entry will not show on the navigation bar,&lt;ahref=”https://github.com/alshedivat/al-folio/issues/1328”&gt;<em>reference1</em>&lt;/a&gt;, &lt;ahref=”https://github.com/alshedivat/al-folio/issues/67”&gt;<em>reference2</em>&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;Find in <code>_includes/header.html</code> the if statement<code>{% if site.blog_nav_title %}</code> go to the end of this if statement andadd something: &lt;ahref=”https://github.com/alshedivat/al-folio/discussions/579”&gt;<em>reference</em>&lt;/a&gt;&lt;/p&gt;<figure class="highlight html">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line">{% if site.blog_nav_title %}</span><br><span class="line"><span class="comment">&lt;!– Blog –&gt;</span></span><br><span class="line"><span class="comment">&lt;!– Empty here because blog_nav_title attribute is empty –&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"nav-item {% if page.url contains 'blog' %}active{% endif %}"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"nav-link"</span> <span class="attr">href</span>=<span class="string">"{{ '/blog/' | relative_url }}"</span>&gt;</span>{{ site.blog_nav_title }}</span><br><span class="line"> {%- if page.url contains 'blog' -%}</span><br><span class="line"> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sr-only"</span>&gt;</span>(current)<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"> {%- endif -%}</span><br><span class="line"> <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">{%- endif %}</span><br><span class="line"><span class="comment">&lt;!– Actual Blog Takes Place Here –&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"nav-item"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"nav-link"</span> <span class="attr">href</span>=<span class="string">"https://yao-lirong.github.io/blog/"</span>&gt;</span>blog<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span> </span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;/li&gt;&lt;/ol&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;One thing really good about al-folio is that it allows includingexternal blog posts. You can do this by adding the RSS feed in<code>_config.yml</code>: &lt;ahref=”https://medium.com/@al-folio/displaying-external-posts-on-your-al-folio-blog-b60a1d241a0a”&gt;<em>reference</em>&lt;/a&gt;&lt;/p&gt;<figure class="highlight yaml">&lt;table&gt;&lt;tr&gt;&lt;td class="gutter"&gt;&lt;pre&gt;<span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br>&lt;/pre&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre&gt;<span class="line"><span class="attr">external_sources:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">blog</span></span><br><span class="line"> <span class="attr">rss_url:</span> <span class="string">https://yao-lirong.github.io/blog/atom.xml</span></span><br>&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</figure>&lt;p&gt;These external posts can also be displayed on your homepage if youset <code>latest_posts: true</code> in the front matter of<code>_pages/about.md</code>&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2 id="tbd"&gt;TBD&lt;/h2&gt;&lt;p&gt;how about sitemap?&lt;/p&gt;&lt;p&gt;GA4 tags check&lt;/p&gt;&lt;p&gt;do a photowall?&lt;/p&gt;</p> </body></html>